import{z as c,o as i,e as l,a as s,f as m,F as p,k as _,t as u,g as f,m as d,y as h,B as g,n as b,c as w}from"./app-B3E4MCWe.js";import{_ as y}from"./SOLYTEC LOGO-D994yKaO.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={name:"LoginComponent",mounted(){},data(){return{email:"",password:"",errors:null,token:"",showPassword:!1}},methods:{async submitLogin(){try{const e=await c.post("/loginPOST",{email:this.email,password:this.password,token:this.token});e.data&&e.data.autenticacion_correcta?(sessionStorage.clear(),console.log("¡Inicio de sesión exitoso!"),this.$emit("login-success"),this.token=e.data.token,c.defaults.headers.common.Authorization=`Bearer ${this.token}`,sessionStorage.setItem("token",this.token),c.get("/api/pantallaprincipal").then(n=>{window.location.href="/pantallaprincipal"}).catch(n=>{console.error("Error al acceder a pantallaprincipal:",n)})):this.errors=e.data.errors||["Credenciales incorrectas"]}catch(e){e.response?e.response.status===401?this.errors=["Datos Invalidos"]:e.response.data&&e.response.data.errors?this.errors=e.response.data.errors:console.error("Error en el inicio de sesión:",e.message):console.error("Error en el inicio de sesión:",e.message)}},togglePasswordVisibility(){this.showPassword=!this.showPassword}}},k={class:"vh-100 main-section"},P={class:"container py-5 h-100"},E={class:"row d-flex justify-content-center align-items-center h-100"},C={class:"col col-xl-10"},L={class:"card",style:{"border-radius":"1rem"}},V={class:"row g-0"},B=s("div",{class:"contenedor-imagen col-md-6 col-lg-5 d-none d-md-block"},null,-1),D={class:"col-md-6 col-lg-7 d-flex align-items-center"},S={class:"card-body p-4 p-lg-5 text-black"},I=s("div",{class:"d-flex align-items-center mb-3 pb-1"},[s("i",{class:"fas fa-cubes fa-2x me-3",style:{color:"#ff6219"}}),s("img",{class:"solytec-logo",src:y})],-1),z={key:0,class:"text-danger"},A=s("br",null,null,-1),M={class:"form-outline mb-4"},T=s("label",{class:"form-label",for:"form2Example17"},"Direccion de correo electronico",-1),q={class:"form-outline mb-4 position-relative"},F=["type"],N=s("label",{class:"form-label",for:"form2Example27"},"Contraseña",-1),U=s("div",{class:"pt-1 mb-4"},[s("button",{type:"submit",class:"color-boton login-boton btn btn-lg btn-block"},"Inicia sesión")],-1),j=s("a",{href:"#!",class:"small text-muted"},"Terminos de uso y Política de privacidad",-1);function O(e,o,n,H,r,a){return i(),l("section",k,[s("div",P,[s("div",E,[s("div",C,[s("div",L,[s("div",V,[B,s("div",D,[s("div",S,[s("form",{onSubmit:o[3]||(o[3]=m((...t)=>a.submitLogin&&a.submitLogin(...t),["prevent"]))},[I,r.errors?(i(),l("div",z,[s("ul",null,[(i(!0),l(p,null,_(r.errors,t=>(i(),l("li",{key:t},u(t),1))),128))])])):f("",!0),A,s("div",M,[d(s("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=t=>r.email=t),id:"form2Example17",class:"form-control form-control-lg",required:""},null,512),[[h,r.email]]),T]),s("div",q,[d(s("input",{type:r.showPassword?"text":"password","onUpdate:modelValue":o[1]||(o[1]=t=>r.password=t),id:"form2Example27",class:"form-control form-control-lg",required:""},null,8,F),[[g,r.password]]),N,s("i",{class:b(r.showPassword?"fas fa-eye-slash eye-icon":"fas fa-eye eye-icon"),onClick:o[2]||(o[2]=(...t)=>a.togglePasswordVisibility&&a.togglePasswordVisibility(...t))},null,2)]),U,j],32)])])])])])])])])}const G=v(x,[["render",O]]),R={__name:"Login",setup(e){return(o,n)=>(i(),w(G))}};export{R as default};
